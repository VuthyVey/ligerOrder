<template name="home">

<div class="row">
	
	{{> sideNav}}

	<div class="row">
	    <div class="col s7 m7">
		    <ul class="tabs">
		        <li class="tab col s3"><a href="#test1">Items</a></li>
		        <li class="tab col s3"><a class="active" href="#test2">Recipes</a></li>
			</ul>
		    
		      	<div id="test1">{{> itemsTable}}</div>
		   		<div id="test2">{{> recipesList}}</div>    
		 
	    </div>
	    



	    <div class="col m5 card-panel blue-grey darken-1" data-target="order" id="order">
	    	{{> orderList}}
		</div>
	 	
	</div>
</div>
</template>


<template name="recipesList">
<div class="row">
{{#each Recipes}}
		
		


			<div class="col m6 s12">
				<div class="card small">
			    <div class="card-image waves-effect waves-block waves-light">
			      <img class="activator" src="{{imgURL}}">
			     	<a href="" class="btn">Add</a>
			    </div>
			    <div class="card-content">
			  
			       <span class="grey-text text-darken-2 subtext">{{name}}</span>
			       <p class="grey-text text-lighten-1">{{kh_name}}</p>
			  
			       <div class="chip">
				    {{readyTime}}
				    <i class="close material-icons">timer</i>
				  </div>
				  <div class="chip">
				    {{serve}} serving
				    <i class="close material-icons">local_dining</i>
				  </div>
        
			    </div>
			    <!-- <div class="card-action">
	              <a href="#">Add to order</a>
	            </div> -->
			    <div class="card-reveal" style="background-image: url({{imgURL}});background-size: auto 100%;">
			    <div style="opacity: .9; background: white" class="card-panel">
			    	<span class="card-title grey-text text-darken-4"><i class="material-icons right">close</i></span>

				      	<h5>Ingredients</h5>
				     	 <span>{{#each ingredients}}
							{{> ingredientInfo}}
						{{/each}}
						</span>
					
			    </div>
			      
			      
				
			    </div>
			  </div>
			</div>
	
			 

		
	{{/each}}
		</div>

</template>

<template name="ingredientInfo">
	{{#if isItemsValid name unit}}
	<p class="grey-text text-darken-4">{{amountWithServe amount ../serve}}{{unit}} {{name}}</p>
		
	{{else}}
		<p class="red-text text-darken-4">{{amountWithServe amount ../serve}}{{unit}} {{name}}</p>
	{{/if}}

	
	
</template>

<template name="itemsTable">
		<table class="bordered highlight">
		<input type="search" placeholder="search" id="searchItemInput">
		
		<thead>
			<tr>
				<th>Item Name</th>
				<th>Khmer</th>
				<th>Price</th>
				<th></th>
				<!-- <th>Category</th> -->
			</tr>
		</thead>
			<tbody>
			{{#each items}}
			<tr>
				<td>{{name}}</td>
				<td>{{kh}}</td>
				<td>${{cost}} / {{unit}}</td>
				
				<!-- <td>{{#each category}}
						{{this}}
					{{/each}}
				</td> -->
				<td></td>
				</tr>
			{{/each}}

			  <div class="collection">
		        <a href="#!" class="collection-item">{{name}} {{kh}} ${{cost}} / {{unit}} <input type="number" id="orderAmountInput">
				<p>Total Price: <span id="totalPrice"></span></p><button id="addToCart">Add to Cart</button></a>
		      </div>
			</tbody>
		</table>        

</template>




